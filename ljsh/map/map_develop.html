<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		html { height: 100% }
		body { height: 100%; margin: 0; padding: 0 }
		#map_canvas { height: 100% }
	</style>
	<script type="text/javascript" 
		src="http://maps.googleapis.com/maps/api/js?sensor=false&language=en">
		<!-- src="http://maps.googleapis.com/maps/api/js?v=3.9&key=AIzaSyDUs54CyzWujJjixHv4LtPK4WKzcQ6L8Do&sensor=FALSE&language=de&region=GB"> -->
	</script>
	<script type="text/javascript">
		function detectBrowser() {
			var useragent = navigator.userAgent;
			var mapdiv = document.getElementById("map_canvas");
			if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
				mapdiv.style.width = '100%';
				mapdiv.style.height = '100%';
			} else {
				mapdiv.style.width = '600px';
				mapdiv.style.height = '800px';
			}
		}
		function placeMarker(location,map) {
			var marker = new google.maps.Marker({
				position: location,
				map: map
			});

			map.setCenter(location);
		}
		function initialize() {
			
			// map settings
			var mapOptions = {
				center: new google.maps.LatLng(52.478912, 13.483268),
				zoom: 13,
				mapTypeId: google.maps.MapTypeId.ROADMAP
				//mapTypeId: google.maps.MapTypeId.SATELLITE
				//mapTypeId: google.maps.MapTypeId.HYBRID
				//mapTypeId: google.maps.MapTypeId.TERRAIN
			};
			
			// create map
			var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
			
			// create marker
			var marker = new google.maps.Marker({
				position: map.getCenter(),
				map: map,
				title: 'Click to zoom'
			});

			// create marker listener
			google.maps.event.addListener(marker, 'click', function() {
				map.setZoom(14);
				map.setCenter(marker.getPosition());
				attachMessage(marker, "message", map);
			});
			
			
			google.maps.event.addListener(marker, 'click', function() {
				infowindow.open(map,marker);
			});
			
			// create map listener
			/*
			google.maps.event.addListener(map, 'center_changed', function() {
				// 3 seconds after the center of the map has changed, pan back to the
				// marker.
				window.setTimeout(function() {
					map.panTo(marker.getPosition());
				}, 3000);
			});
			*/
			
			// place a new marker
			/*
			google.maps.event.addListener(map, 'click', function(event) {
				placeMarker(event.latLng,map);
			});
			*/
			
			// create marker message
			function attachMessage(marker, message, map) {
				this.infowindow = new google.maps.InfoWindow(
					{ content: message, size: new google.maps.Size(50,50) }
				);
				// create marker window
				google.maps.event.addListener(marker, 'click', function() {
					infowindow.open(map,marker);
				});
				// create zoom evnt
				google.maps.event.addListener(map, 'zoom_changed', function() {
					var zoomLevel = map.getZoom();
					map.setCenter(map.getCenter());
					infowindow.setContent(message+' (Zoom:' + zoomLevel+')');
				});
			}
		}
		google.maps.event.addDomListener(window, 'load', initialize); //async loading with script
	</script>
</head>

<!-- <body onload="initialize()"> -->
<body>
	<div id="map_canvas" style="width:95%; height:95%"></div>
</body>

</html>